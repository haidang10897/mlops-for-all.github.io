<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://mlops-for-all.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://mlops-for-all.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://mlops-for-all.github.io/fonts/KaTeX_Main-Regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://mlops-for-all.github.io/fonts/KaTeX_Math-Italic.woff2 type=font/woff2 crossorigin><script>(()=>{var b=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=localStorage.getItem("theme");b&&a===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),b&&a==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),a==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://mlops-for-all.github.io/main.cad14cbebfd697c16fc49bc385ebca1bf9efaa4847d2c76723fcaa67a3e566a079700b17d972e21f268d349420b7dd34489d31521622c27cd7fe37ac8700a54e.css integrity="sha512-ytFMvr/Wl8FvxJvDhevKG/nvqkhH0sdnI/yqZ6PlZqB5cAsX2XLiHyaNNJQgt900SJ0xUhYiwnzX/jeshwClTg==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>2. bare-metal 클러스터용 load balancer metallb 설치 - 모두의 MLOps</title><meta name=description content="What is MetalLB? # When using Kubernetes, cloud platforms such as AWS, GCP, and Azure provide their load balancer. On-premise clusters, however, require additional installations of modules that provide load balancing. MetalLB is an open-source project that provides load balancers in bare-metal environments.
Requirements #    requirments version and content     Kubernetes Kubernetes 1.13.0 or later, that does not already have network load-balancing functionality   cluster network configuration Calico, Canal, Cilium, Flannel, Kube-ovn, Kube-router, Weave Net   IPv4 addresses for MetalLB to hand out   When using the BGP operating mode need one or more routers capable of speaking BGP   Traffic on port 7946 (TCP &amp;amp; UDP) must be allowed between nodes required by memberlist."><link rel=canonical href=https://mlops-for-all.github.io/en/docs/appendix/metallb/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="2. bare-metal 클러스터용 load balancer metallb 설치"><meta property="og:description" content="What is MetalLB? # When using Kubernetes, cloud platforms such as AWS, GCP, and Azure provide their load balancer. On-premise clusters, however, require additional installations of modules that provide load balancing. MetalLB is an open-source project that provides load balancers in bare-metal environments.
Requirements #    requirments version and content     Kubernetes Kubernetes 1.13.0 or later, that does not already have network load-balancing functionality   cluster network configuration Calico, Canal, Cilium, Flannel, Kube-ovn, Kube-router, Weave Net   IPv4 addresses for MetalLB to hand out   When using the BGP operating mode need one or more routers capable of speaking BGP   Traffic on port 7946 (TCP & UDP) must be allowed between nodes required by memberlist."><meta property="og:url" content="https://mlops-for-all.github.io/en/docs/appendix/metallb/"><meta property="og:site_name" content="모두의 MLOps"><meta property="og:image" content="https://mlops-for-all.github.io/mlops-for-all.png"><meta property="og:image:alt" content="모두의 MLOps"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="2. bare-metal 클러스터용 load balancer metallb 설치"><meta name=twitter:description content><meta name=twitter:image content="https://mlops-for-all.github.io/mlops-for-all.png"><meta name=twitter:image:alt content="2. bare-metal 클러스터용 load balancer metallb 설치"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://mlops-for-all.github.io/#/schema/organization/1","name":"MLOps-for-ALL","url":"https://mlops-for-all.github.io/","sameAs":["https://github.com/mlops-for-all/mlops-for-all.github.io"],"logo":{"@type":"ImageObject","@id":"https://mlops-for-all.github.io/#/schema/image/1","url":"https://mlops-for-all.github.io/logo-mlops-for-all.png","width":512,"height":512,"caption":"MLOps-for-ALL"},"image":{"@id":"https://mlops-for-all.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://mlops-for-all.github.io/#/schema/website/1","url":"https://mlops-for-all.github.io/","name":"모두의 MLOps","description":"모두가 쉽게 시작할 수 있는 MLOps 자료를 제작합니다.","publisher":{"@id":"https://mlops-for-all.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/","url":"https://mlops-for-all.github.io/en/docs/appendix/metallb/","name":"2. bare-metal 클러스터용 load balancer metallb 설치","description":"","isPartOf":{"@id":"https://mlops-for-all.github.io/#/schema/website/1"},"about":{"@id":"https://mlops-for-all.github.io/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://mlops-for-all.github.io/en/docs/appendix/metallb/"]}]},{"@type":"BreadcrumbList","@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://mlops-for-all.github.io","url":"https://mlops-for-all.github.io","name":"Home"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://mlops-for-all.github.io/en/","url":"https://mlops-for-all.github.io/en/","name":"En"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://mlops-for-all.github.io/en/docs/","url":"https://mlops-for-all.github.io/en/docs/","name":"Docs"}},{"@type":"ListItem","position":5,"item":{"@type":"WebPage","@id":"https://mlops-for-all.github.io/en/docs/appendix/","url":"https://mlops-for-all.github.io/en/docs/appendix/","name":"Appendix"}},{"@type":"ListItem","position":6,"item":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://mlops-for-all.github.io/#/schema/article/1","headline":"2. bare-metal 클러스터용 load balancer metallb 설치","description":"","isPartOf":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/"},"mainEntityOfPage":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","author":{"@id":"https://mlops-for-all.github.io/#/schema/person/2"},"publisher":{"@id":"https://mlops-for-all.github.io/#/schema/organization/1"},"image":{"@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://mlops-for-all.github.io/#/schema/person/2","name":"MLOps for ALL","sameAs":["https://github.com/mlops-for-all"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://mlops-for-all.github.io/en/docs/appendix/metallb/#/schema/image/2","url":"https://mlops-for-all.github.io/mlops-for-all.png","contentUrl":"https://mlops-for-all.github.io/mlops-for-all.png","caption":"2. bare-metal 클러스터용 load balancer metallb 설치"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://mlops-for-all.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://mlops-for-all.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://mlops-for-all.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://mlops-for-all.github.io/site.webmanifest></head><body class="docs single"><script async src="https://www.googletagmanager.com/gtag/js?id=G-097K82469K"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-097K82469K')</script><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/en/ aria-label="모두의 MLOps">모두의 MLOps</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/en/>모두의 MLOps</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/en/docs/prologue/welcome/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/en/contributors/>Contributors</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/en/contact/>Contact</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/mlops-for-all/mlops-for-all.github.io><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><div class="dropdown order-md-2"><button class="btn btn-doks-light dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
EN
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></button><ul class="dropdown-menu dropdown-menu-end shadow rounded border-0" aria-labelledby=doks-languages><li><a class="dropdown-item current" aria-current=true href=/en/docs/appendix/metallb/>English</a></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/docs/appendix/metallb/ hreflang=kor lang=kor>Korean</a></li></ul></div></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-prologue aria-expanded=false>
Prologue</button><div class=collapse id=section-prologue><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/prologue/welcome/>Welcome to MLOps for ALL!</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-introduction aria-expanded=false>
Introduction</button><div class=collapse id=section-introduction><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/introduction/intro/>1. What is MLOps?</a></li><li><a class="docs-link rounded" href=/en/docs/introduction/component/>2. Components of MLOps</a></li><li><a class="docs-link rounded" href=/en/docs/introduction/why_kubernetes/>3. Why Kubernetes?</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-setup-kubernetes aria-expanded=false>
Setup Kubernetes</button><div class=collapse id=section-setup-kubernetes><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/intro/>1. Introduction</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes/>2. Setup Kubernetes</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/install-prerequisite/>3. Install Prerequisite</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-k3s/>4.1. Install Kubernetes - K3s</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-minikube/>4.2. Install Kubernetes - Minikube</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-kubeadm/>4.3. Install Kubernetes - Kubeadm</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/install-kubernetes-module/>5. Install Kubernetes Modules</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/setup-nvidia-gpu/>6. (Optional) Setup GPU</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-setup-components aria-expanded=false>
Setup Components</button><div class=collapse id=section-setup-components><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-kf/>1. Kubeflow</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-mlflow/>2. MLflow Tracking Server</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-seldon/>3. Seldon-Core</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-pg/>4. Prometheus & Grafana</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-kubeflow-ui-guide aria-expanded=false>
Kubeflow UI Guide</button><div class=collapse id=section-kubeflow-ui-guide><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/intro/>1. Central Dashboard</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/notebooks/>2. Notebooks</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/tensorboards/>3. Tensorboards</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/volumes/>4. Volumes</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/experiments/>5. Experiments(AutoML)</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/experiments-and-others/>6. Kubeflow Pipeline 관련</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-kubeflow aria-expanded=false>
Kubeflow</button><div class=collapse id=section-kubeflow><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/kubeflow/kubeflow-intro/>1. Kubeflow Introduction</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/kubeflow-concepts/>2. Kubeflow Concepts</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-requirements/>3. Install Requirements</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-component/>4. Component - Write</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-pipeline/>5. Pipeline - Write</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-pipeline-upload/>6. Pipeline - Upload</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-run/>7. Pipeline - Run</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-component/>8. Component - InputPath/OutputPath</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-environment/>9. Component - Environment</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-pipeline/>10. Pipeline - Setting</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-run/>11. Pipeline - Run Result</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-mlflow/>12. Component - MLFlow</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/how-to-debug/>13. Component - Debugging</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-api-deployment aria-expanded=false>
API Deployment</button><div class=collapse id=section-api-deployment><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/api-deployment/what-is-api-deployment/>1. What is API Deployment?</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-iris/>2. Deploy SeldonDeployment</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-fields/>3. Seldon Fields</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-mlflow/>4. Model from MLflow</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-children/>5. Multi Models</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-further-readings aria-expanded=false>
Further Readings</button><div class=collapse id=section-further-readings><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/further-readings/info/>다루지 못한 것들</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-appendix aria-expanded=true>
Appendix</button><div class="collapse show" id=section-appendix><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/appendix/pyenv/>1. Python 가상환경 설치</a></li><li><a class="docs-link rounded active" href=/en/docs/appendix/metallb/>2. bare-metal 클러스터용 load balancer metallb 설치</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-help aria-expanded=false>
Help</button><div class=collapse id=section-help><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/help/discussions/>Community</a></li><li><a class="docs-link rounded" href=/en/docs/help/how-to-contribute/>How to Contribute</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-prologue aria-expanded=false>
Prologue</button><div class=collapse id=section-prologue><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/prologue/welcome/>Welcome to MLOps for ALL!</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-introduction aria-expanded=false>
Introduction</button><div class=collapse id=section-introduction><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/introduction/intro/>1. What is MLOps?</a></li><li><a class="docs-link rounded" href=/en/docs/introduction/component/>2. Components of MLOps</a></li><li><a class="docs-link rounded" href=/en/docs/introduction/why_kubernetes/>3. Why Kubernetes?</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-setup-kubernetes aria-expanded=false>
Setup Kubernetes</button><div class=collapse id=section-setup-kubernetes><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/intro/>1. Introduction</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes/>2. Setup Kubernetes</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/install-prerequisite/>3. Install Prerequisite</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-k3s/>4.1. Install Kubernetes - K3s</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-minikube/>4.2. Install Kubernetes - Minikube</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/kubernetes-with-kubeadm/>4.3. Install Kubernetes - Kubeadm</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/install-kubernetes-module/>5. Install Kubernetes Modules</a></li><li><a class="docs-link rounded" href=/en/docs/setup-kubernetes/setup-nvidia-gpu/>6. (Optional) Setup GPU</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-setup-components aria-expanded=false>
Setup Components</button><div class=collapse id=section-setup-components><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-kf/>1. Kubeflow</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-mlflow/>2. MLflow Tracking Server</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-seldon/>3. Seldon-Core</a></li><li><a class="docs-link rounded" href=/en/docs/setup-components/install-components-pg/>4. Prometheus & Grafana</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-kubeflow-ui-guide aria-expanded=false>
Kubeflow UI Guide</button><div class=collapse id=section-kubeflow-ui-guide><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/intro/>1. Central Dashboard</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/notebooks/>2. Notebooks</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/tensorboards/>3. Tensorboards</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/volumes/>4. Volumes</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/experiments/>5. Experiments(AutoML)</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow-dashboard-guide/experiments-and-others/>6. Kubeflow Pipeline 관련</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-kubeflow aria-expanded=false>
Kubeflow</button><div class=collapse id=section-kubeflow><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/kubeflow/kubeflow-intro/>1. Kubeflow Introduction</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/kubeflow-concepts/>2. Kubeflow Concepts</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-requirements/>3. Install Requirements</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-component/>4. Component - Write</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-pipeline/>5. Pipeline - Write</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-pipeline-upload/>6. Pipeline - Upload</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/basic-run/>7. Pipeline - Run</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-component/>8. Component - InputPath/OutputPath</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-environment/>9. Component - Environment</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-pipeline/>10. Pipeline - Setting</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-run/>11. Pipeline - Run Result</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/advanced-mlflow/>12. Component - MLFlow</a></li><li><a class="docs-link rounded" href=/en/docs/kubeflow/how-to-debug/>13. Component - Debugging</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-api-deployment aria-expanded=false>
API Deployment</button><div class=collapse id=section-api-deployment><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/api-deployment/what-is-api-deployment/>1. What is API Deployment?</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-iris/>2. Deploy SeldonDeployment</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-fields/>3. Seldon Fields</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-mlflow/>4. Model from MLflow</a></li><li><a class="docs-link rounded" href=/en/docs/api-deployment/seldon-children/>5. Multi Models</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-further-readings aria-expanded=false>
Further Readings</button><div class=collapse id=section-further-readings><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/further-readings/info/>다루지 못한 것들</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-appendix aria-expanded=true>
Appendix</button><div class="collapse show" id=section-appendix><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/appendix/pyenv/>1. Python 가상환경 설치</a></li><li><a class="docs-link rounded active" href=/en/docs/appendix/metallb/>2. bare-metal 클러스터용 load balancer metallb 설치</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-help aria-expanded=false>
Help</button><div class=collapse id=section-help><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/en/docs/help/discussions/>Community</a></li><li><a class="docs-link rounded" href=/en/docs/help/how-to-contribute/>How to Contribute</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#what-is-metallb>What is MetalLB?</a></li><li><a href=#requirements>Requirements</a></li><li><a href=#installation>Installation</a><ul><li><a href=#preparation>Preparation</a></li><li><a href=#installation-by-manifest>Installation by manifest</a></li></ul></li><li><a href=#configuration>Configuration</a><ul><li><a href=#layer-2-configuration>Layer 2 Configuration</a></li></ul></li><li><a href=#usage>Usage</a><ul><li><a href=#kubeflow-dashboard>Kubeflow Dashboard</a></li><li><a href=#minio-dashboard>minio Dashboard</a></li><li><a href=#mlflow-dashboard>mlflow Dashboard</a></li><li><a href=#grafana-dashboard>Grafana Dashboard</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>2. bare-metal 클러스터용 load balancer metallb 설치</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#what-is-metallb>What is MetalLB?</a></li><li><a href=#requirements>Requirements</a></li><li><a href=#installation>Installation</a><ul><li><a href=#preparation>Preparation</a></li><li><a href=#installation-by-manifest>Installation by manifest</a></li></ul></li><li><a href=#configuration>Configuration</a><ul><li><a href=#layer-2-configuration>Layer 2 Configuration</a></li></ul></li><li><a href=#usage>Usage</a><ul><li><a href=#kubeflow-dashboard>Kubeflow Dashboard</a></li><li><a href=#minio-dashboard>minio Dashboard</a></li><li><a href=#mlflow-dashboard>mlflow Dashboard</a></li><li><a href=#grafana-dashboard>Grafana Dashboard</a></li></ul></li></ul></nav></div></nav><h2 id=what-is-metallb>What is MetalLB? <a href=#what-is-metallb class=anchor aria-hidden=true>#</a></h2><p>When using Kubernetes, cloud platforms such as AWS, GCP, and Azure provide their load balancer. On-premise clusters, however, require additional installations of modules that provide load balancing.
<a href=https://metallb.universe.tf/>MetalLB</a> is an open-source project that provides load balancers in bare-metal environments.</p><h2 id=requirements>Requirements <a href=#requirements class=anchor aria-hidden=true>#</a></h2><table><thead><tr><th>requirments</th><th>version and content</th></tr></thead><tbody><tr><td>Kubernetes</td><td>Kubernetes 1.13.0 or later, that does not already have network load-balancing functionality</td></tr><tr><td><a href=https://metallb.universe.tf/installation/network-addons/>cluster network configuration</a></td><td>Calico, Canal, Cilium, Flannel, Kube-ovn, Kube-router, Weave Net</td></tr><tr><td>IPv4 addresses</td><td>for MetalLB to hand out</td></tr><tr><td>When using the BGP operating mode</td><td>need one or more routers capable of speaking <a href=https://en.wikipedia.org/wiki/Border_Gateway_Protocol>BGP</a></td></tr><tr><td>Traffic on port 7946 (TCP & UDP) must be allowed between nodes</td><td>required by <a href=https://github.com/hashicorp/memberlist>memberlist</a>.</td></tr></tbody></table><h2 id=installation>Installation <a href=#installation class=anchor aria-hidden=true>#</a></h2><h3 id=preparation>Preparation <a href=#preparation class=anchor aria-hidden=true>#</a></h3><p>If you use kube-proxy in IPVS mode, you must enable strict ARP mode after Kubernetes v1.14.2. Kube-router basically activates strict ARP, so this function is not required when used as a service proxy. Before applying the strict ARP mode, check whether the current mode is a strict ARP mode or not.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text># see what changes would be made, returns nonzero returncode if different
kubectl get configmap kube-proxy -n kube-system -o yaml | \
grep strictARP
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>strictARP: false
</code></pre></div><p>If the output is strickARP: false, change it to strickARP:true by executing the following command. (If the result is already strickARP:true, you don&rsquo;t have to run the below command.)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text># actually apply the changes, returns nonzero returncode on errors only
kubectl get configmap kube-proxy -n kube-system -o yaml | \
sed -e &#34;s/strictARP: false/strictARP: true/&#34; | \
kubectl apply -f - -n kube-system
</code></pre></div><p>You will see the following result as output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>Warning: resource configmaps/kube-proxy is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
configmap/kube-proxy configured
</code></pre></div><h3 id=installation-by-manifest>Installation by manifest <a href=#installation-by-manifest class=anchor aria-hidden=true>#</a></h3><h4 id=1-apply-the-manifest>1. Apply the manifest <a href=#1-apply-the-manifest class=anchor aria-hidden=true>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.11.0/manifests/namespace.yaml
kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.11.0/manifests/metallb.yaml
</code></pre></div><h4 id=2-check-the-result>2. Check the result <a href=#2-check-the-result class=anchor aria-hidden=true>#</a></h4><p>Wait until both pods of the metallb-system namespace become Running.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get pod -n metallb-system
</code></pre></div><p>When all pods are running, you will see the following result as output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                          READY   STATUS    RESTARTS   AGE
controller-7dcc8764f4-8n92q   1/1     Running   1          1m
speaker-fnf8l                 1/1     Running   1          1m
</code></pre></div><p>The components in the manifest are:</p><ul><li>metallb-system/controller<ul><li>distributed as deployment and is responsible for handling the allocation of external IP addresses to perform load balancing.</li></ul></li><li>metallb-system/speaker<ul><li>distributed as daemonset and is responsible for configuring network communication by connecting external traffic and services.</li></ul></li></ul><p>The service includes the RBAC permissions required for controllers, speakers, and components to operate.</p><h2 id=configuration>Configuration <a href=#configuration class=anchor aria-hidden=true>#</a></h2><p>MetalLB&rsquo;s load balancing policy setting can be set by deploying a configmap containing related setting information.</p><p>MetalLB has two configurations:</p><ol><li><a href=https://metallb.universe.tf/concepts/layer2/>Layer 2</a></li><li><a href=https://metallb.universe.tf/concepts/bgp/>BGP</a></li></ol><p>We will explain how to set up MetalLB with Layer 2 mode.</p><h3 id=layer-2-configuration>Layer 2 Configuration <a href=#layer-2-configuration class=anchor aria-hidden=true>#</a></h3><p>Layer 2 mode is the simplest to configure: in many cases, you don’t need any protocol-specific configuration, only IP addresses.</p><p>Layer 2 mode does not require the IPs to be bound to the network interfaces of your worker nodes. It works by responding to ARP requests on your local network directly, to give the machine’s MAC address to clients.</p><p>The following configuration <code>metallb_config.yaml</code> gives MetalLB control over IPs from 192.168.35.100 to 192.168.35.110 and configures Layer 2 mode.<br>If the cluster node and the client node are separated, the 192.168.35.100 to 192.168.35.110 bands must be accessible to both the client node and the cluster node.</p><h4 id=metallb_configyaml>metallb_config.yaml <a href=#metallb_configyaml class=anchor aria-hidden=true>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>apiVersion: v1
kind: ConfigMap
metadata:
  namespace: metallb-system
  name: config
data:
  config: |
    address-pools:
    - name: default
      protocol: layer2
      addresses:
      - 192.168.35.100-192.168.35.110  # IP 대역폭
</code></pre></div><p>Apply the above settings.</p><pre tabindex=0><code class=language-test data-lang=test>kubectl apply -f metallb_config.yaml 
</code></pre><p>You will see the following result as output:</p><pre tabindex=0><code class=language-test data-lang=test>configmap/config created
</code></pre><h2 id=usage>Usage <a href=#usage class=anchor aria-hidden=true>#</a></h2><h3 id=kubeflow-dashboard>Kubeflow Dashboard <a href=#kubeflow-dashboard class=anchor aria-hidden=true>#</a></h3><p>First, check the current status before receiving load balancing from MetalLB by changing the type of istio-ingressgateway service to <code>LoadBalancer</code> in the istio-system namespace that provides kubeflow&rsquo;s dashboard.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/istio-ingressgateway -n istio-system
</code></pre></div><p>You can see that the type of service is ClusterIP, and the External-IP value is <code>none</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                   TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)                                        AGE
istio-ingressgateway   ClusterIP   10.103.72.5   &lt;none&gt;        15021/TCP,80/TCP,443/TCP,31400/TCP,15443/TCP   4h21m
</code></pre></div><p>Change the type to Load Balancer and add a <code>loadBalancerIP</code> key-value pair if you want to enter the desired IP address. If not added, IP addresses will be assigned sequentially from the IP address pool set from <code>metallb_config.yaml</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl edit svc/istio-ingressgateway -n istio-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>spec:
  clusterIP: 10.103.72.5
  clusterIPs:
  - 10.103.72.5
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - name: status-port
    port: 15021
    protocol: TCP
    targetPort: 15021
  - name: http2
    port: 80
    protocol: TCP
    targetPort: 8080
  - name: https
    port: 443
    protocol: TCP
    targetPort: 8443
  - name: tcp
    port: 31400
    protocol: TCP
    targetPort: 31400
  - name: tls
    port: 15443
    protocol: TCP
    targetPort: 15443
  selector:
    app: istio-ingressgateway
    istio: ingressgateway
  sessionAffinity: None
  type: LoadBalancer # Change ClusterIP to LoadBalancer
  loadBalancerIP: 192.168.35.100   # Add IP
status:
  loadBalancer: {}
</code></pre></div><p>If we check again, you can see the External-IP value is <code>192.168.35.100</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/istio-ingressgateway -n istio-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                   TYPE           CLUSTER-IP    EXTERNAL-IP      PORT(S)                                                                      AGE
istio-ingressgateway   LoadBalancer   10.103.72.5   192.168.35.100   15021:31054/TCP,80:30853/TCP,443:30443/TCP,31400:30012/TCP,15443:31650/TCP   5h1m
</code></pre></div><p>Open the Web Browser and access <a href=http://192.168.35.100>http://192.168.35.100</a> to confirm that the following screen is output.</p><p align=center><img src=/images/docs/metallb/login-after-istio-ingressgateway-setting.png title=login-ui></p><h3 id=minio-dashboard>minio Dashboard <a href=#minio-dashboard class=anchor aria-hidden=true>#</a></h3><p>First, check the current status before receiving load balancing from MetalLB by changing the type of minio-service service to <code>LoadBalancer</code> in the kubeflow namespace that provides minio’s dashboard.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/minio-service -n kubeflow
</code></pre></div><p>You can see that the type of service is ClusterIP, and the External-IP value is <code>none</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
minio-service   ClusterIP   10.109.209.87   &lt;none&gt;        9000/TCP   5h14m
</code></pre></div><p>Change the type to Load Balancer and add a loadBalancerIP key-value pair if you want to enter the desired IP address. If not added, IP addresses will be assigned sequentially from the IP address pool set from metallb_config.yaml.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl edit svc/minio-service -n kubeflow
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>apiVersion: v1
kind: Service
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {&#34;apiVersion&#34;:&#34;v1&#34;,&#34;kind&#34;:&#34;Service&#34;,&#34;metadata&#34;:{&#34;annotations&#34;:{},&#34;labels&#34;:{&#34;application-crd-id&#34;:&#34;kubeflow-pipelines&#34;},&#34;name&#34;:&#34;minio-ser&gt;
  creationTimestamp: &#34;2022-01-05T08:44:23Z&#34;
  labels:
    application-crd-id: kubeflow-pipelines
  name: minio-service
  namespace: kubeflow
  resourceVersion: &#34;21120&#34;
  uid: 0053ee28-4f87-47bb-ad6b-7ad68aa29a48
spec:
  clusterIP: 10.109.209.87
  clusterIPs:
  - 10.109.209.87
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - name: http
    port: 9000
    protocol: TCP
    targetPort: 9000
  selector:
    app: minio
    application-crd-id: kubeflow-pipelines
  sessionAffinity: None
  type: LoadBalancer # Change ClusterIP to LoadBalancer
  loadBalancerIP: 192.168.35.101 # Add IP
status:
  loadBalancer: {}
</code></pre></div><p>If we check again, you can see the External-IP value is <code>192.168.35.101</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/minio-service -n kubeflow
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME            TYPE           CLUSTER-IP      EXTERNAL-IP      PORT(S)          AGE
minio-service   LoadBalancer   10.109.209.87   192.168.35.101   9000:31371/TCP   5h21m
</code></pre></div><p>Open the Web Browser and access <a href=http://192.168.35.101:9000>http://192.168.35.101:9000</a> to confirm that the following screen is output.</p><p align=center><img src=/images/docs/metallb/login-after-minio-setting.png title=login-ui></p><h3 id=mlflow-dashboard>mlflow Dashboard <a href=#mlflow-dashboard class=anchor aria-hidden=true>#</a></h3><p>First, check the current status before receiving load balancing from MetalLB by changing the type of mlflow-server-service service to <code>LoadBalancer</code> in the mlflow-system namespace that provides mlflow’s dashboard.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/mlflow-server-service -n mlflow-system
</code></pre></div><p>You can see that the type of service is ClusterIP, and the External-IP value is <code>none</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE
mlflow-server-service   ClusterIP   10.111.173.209   &lt;none&gt;        5000/TCP   4m50s
</code></pre></div><p>Change the type to Load Balancer and add a loadBalancerIP key-value pair if you want to enter the desired IP address. If not added, IP addresses will be assigned sequentially from the IP address pool set from metallb_config.yaml.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl edit svc/mlflow-server-service -n mlflow-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>apiVersion: v1
kind: Service
metadata:
  annotations:
    meta.helm.sh/release-name: mlflow-server
    meta.helm.sh/release-namespace: mlflow-system
  creationTimestamp: &#34;2022-01-07T04:00:19Z&#34;
  labels:
    app.kubernetes.io/managed-by: Helm
  name: mlflow-server-service
  namespace: mlflow-system
  resourceVersion: &#34;276246&#34;
  uid: e5d39fb7-ad98-47e7-b512-f9c673055356
spec:
  clusterIP: 10.111.173.209
  clusterIPs:
  - 10.111.173.209
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - port: 5000
    protocol: TCP
    targetPort: 5000
  selector:
    app.kubernetes.io/name: mlflow-server
  sessionAffinity: None
  type: LoadBalancer # Change ClusterIP to LoadBalancer
  loadBalancerIP: 192.168.35.102 # Add IP
status:
  loadBalancer: {}
</code></pre></div><p>If we check again, you can see the External-IP value is <code>192.168.35.102</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/mlflow-server-service -n mlflow-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                    TYPE           CLUSTER-IP       EXTERNAL-IP      PORT(S)          AGE
mlflow-server-service   LoadBalancer   10.111.173.209   192.168.35.102   5000:32287/TCP   6m11s
</code></pre></div><p>Open the Web Browser and access <a href=http://192.168.35.102:5000>http://192.168.35.102:5000</a> to confirm that the following screen is output.</p><p align=center><img src=/images/docs/metallb/login-after-mlflow-setting.png title=login-ui></p><h3 id=grafana-dashboard>Grafana Dashboard <a href=#grafana-dashboard class=anchor aria-hidden=true>#</a></h3><p>First, check the current status before receiving load balancing from MetalLB by changing the type of seldon-core-analytics-grafana service to <code>LoadBalancer</code> in the seldon-system namespace that provides Grafana’s dashboard.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/seldon-core-analytics-grafana -n seldon-system
</code></pre></div><p>You can see that the type of service is ClusterIP, and the External-IP value is <code>none</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)   AGE
seldon-core-analytics-grafana   ClusterIP   10.109.20.161   &lt;none&gt;        80/TCP    94s
</code></pre></div><p>Change the type to Load Balancer and add a loadBalancerIP key-value pair if you want to enter the desired IP address. If not added, IP addresses will be assigned sequentially from the IP address pool set from metallb_config.yaml.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl edit svc/seldon-core-analytics-grafana -n seldon-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>apiVersion: v1
kind: Service
metadata:
  annotations:
    meta.helm.sh/release-name: seldon-core-analytics
    meta.helm.sh/release-namespace: seldon-system
  creationTimestamp: &#34;2022-01-07T04:16:47Z&#34;
  labels:
    app.kubernetes.io/instance: seldon-core-analytics
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: grafana
    app.kubernetes.io/version: 7.0.3
    helm.sh/chart: grafana-5.1.4
  name: seldon-core-analytics-grafana
  namespace: seldon-system
  resourceVersion: &#34;280605&#34;
  uid: 75073b78-92ec-472c-b0d5-240038ea8fa5
spec:
  clusterIP: 10.109.20.161
  clusterIPs:
  - 10.109.20.161
  ipFamilies:
  - IPv4
  ipFamilyPolicy: SingleStack
  ports:
  - name: service
    port: 80
    protocol: TCP
    targetPort: 3000
  selector:
    app.kubernetes.io/instance: seldon-core-analytics
    app.kubernetes.io/name: grafana
  sessionAffinity: None
  type: LoadBalancer # Change ClusterIP to LoadBalancer
  loadBalancerIP: 192.168.35.103 # Add IP
status:
  loadBalancer: {}
</code></pre></div><p>If we check again, you can see the External-IP value is <code>192.168.35.103</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>kubectl get svc/seldon-core-analytics-grafana -n seldon-system
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text>NAME                            TYPE           CLUSTER-IP      EXTERNAL-IP      PORT(S)        AGE
seldon-core-analytics-grafana   LoadBalancer   10.109.20.161   192.168.35.103   80:31191/TCP   5m14s
</code></pre></div><p>Open the Web Browser and access <a href=http://192.168.35.103:80>http://192.168.35.103:80</a> to confirm that the following screen is output.</p><p align=center><img src=/images/docs/metallb/login-after-grafana-setting.png title=login-ui></p><p class=edit-page><a href=https://github.com/mlops-for-all/mlops-for-all.github.io/blob/main/content/en/docs/appendix/metallb.md><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=/en/docs/appendix/pyenv/><div class="card my-1"><div class="card-body py-2">&larr; 1. Python 가상환경 설치</div></div></a><a class=ms-auto href=/en/docs/help/how-to-contribute/><div class="card my-1"><div class="card-body py-2">How to Contribute &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a>. Sponsored by <a href=https://www.makinarocks.ai/>MakinaRocks</a>.</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.592b9faf6c83a2bda564a377cf82f9a67546b198510a93fdb0728f9622ec22729d44be02fb2ea16c3fe5365ae1806259cd111932ca28e68b66462d6937635bab.js integrity="sha512-WSufr2yDor2lZKN3z4L5pnVGsZhRCpP9sHKPliLsInKdRL4C+y6hbD/lNlrhgGJZzREZMsoo5otmRi1pN2Nbqw==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.88df7ec5d9693ad9d3c4f131a6974c6b0d00561526e939ea196b4f198ecdcfbac25d69d58367fde8df923823110dba6d1a7eabe44b7ea52559e92d0751b17869.js integrity="sha512-iN9+xdlpOtnTxPExppdMaw0AVhUm6TnqGWtPGY7Nz7rCXWnVg2f96N+SOCMRDbptGn6r5Et+pSVZ6S0HUbF4aQ==" crossorigin=anonymous defer></script>
<script src=/js/vendor/katex/dist/katex.min.bcada504b3ec326107c39e7297015498140149b826ef1a9ca9e43f49afecab252b5623be3bea1e0a8663236740fba5368d9e84b8630aedea1a1926dd3f199a3c.js integrity="sha512-vK2lBLPsMmEHw55ylwFUmBQBSbgm7xqcqeQ/Sa/sqyUrViO+O+oeCoZjI2dA+6U2jZ6EuGMK7eoaGSbdPxmaPA==" crossorigin=anonymous defer></script>
<script src=/js/vendor/katex/dist/contrib/auto-render.min.bc779bab10cdc862f139e7cd6255a8f021bc483db2b7bc6d553238fb220e937dbe5cd511100d2ab764ee5d9f9092a2cdcc4e6ae109966efc18338f0b275d927d.js integrity="sha512-vHebqxDNyGLxOefNYlWo8CG8SD2yt7xtVTI4+yIOk32+XNUREA0qt2TuXZ+QkqLNzE5q4QmWbvwYM48LJ12SfQ==" crossorigin=anonymous defer></script>
<script src=/main.min.647c6f9869eb8e24d3f5183f467970dbadd12adeec725e66830376db069558e917e21eb7dd363563443d2c91c5c6557ea3b2864d1f2a78c3f65e676fa19b961b.js integrity="sha512-ZHxvmGnrjiTT9Rg/Rnlw263RKt7scl5mgwN22waVWOkX4h633TY1Y0Q9LJHFxlV+o7KGTR8qeMP2XmdvoZuWGw==" crossorigin=anonymous defer></script>
<script src=https://mlops-for-all.github.io/index.min.a6aedfc89b260fef20c9a54b11e42eefbb28b95a811ca2da06ddc7e63f673a1ec0a04202f28bd4d01df26b12eae38e08489c8fd0709db18ff295087a8bd2e6b8.js integrity="sha512-pq7fyJsmD+8gyaVLEeQu77souVqBHKLaBt3H5j9nOh7AoEIC8ovU0B3yaxLq444ISJyP0HCdsY/ylQh6i9LmuA==" crossorigin=anonymous defer></script></body></html>